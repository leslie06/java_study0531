<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>注册</title>
    <script src="webjars/jquery/3.5.0/jquery.min.js"></script>
</head>
<body>
    <form onsubmit="register(event)">
        <input type="text" id="user_name" placeholder="用户名" required="required" />
        <br>
        <input type="password" id="password" placeholder="密码" minlength="8" required="required" />
        <br>
        <button type="submit" >注册</button>
        <a href="login.html">登录</a>
    </form>

    <script>
        function register(e) {
            $.ajax({
                url: "/user/register",
                async: false,
                type: "post",
                data: {name:$("#user_name").val(),password:$("#password").val()},
                dataType: "json",
                success: function(result){//请求成功的回调函数
                    if(result){
                        alert("注册成功！");
                        e.preventDefault();
                        location.href = "login.html";
                    }else{
                        alert("注册失败！");
                    }
                },
                error: function (xhr,type,exception) {
                    alert(xhr.responseText,"请求发生错误");
                }

            });
        }
    </script>
</body>
</html>